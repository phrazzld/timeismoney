<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Responsive Design Demo - S2.3</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #f9fafb;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .demo-section {
        margin: 30px 0;
        padding: 20px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .viewport-info {
        background: #dbeafe;
        border: 1px solid #3b82f6;
        border-radius: 8px;
        padding: 15px;
        margin: 20px 0;
        color: #1e40af;
        font-family: monospace;
      }

      .price-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .price-card {
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 15px;
        background: white;
      }

      .price {
        font-size: 18px;
        font-weight: 600;
        margin: 10px 0;
        color: #374151;
      }

      h1 {
        text-align: center;
        color: #059669;
        margin-bottom: 10px;
      }

      .subtitle {
        text-align: center;
        color: #6b7280;
        margin-bottom: 30px;
      }

      h2 {
        color: #374151;
        border-bottom: 2px solid #e5e7eb;
        padding-bottom: 8px;
      }

      .controls {
        text-align: center;
        margin: 20px 0;
        padding: 15px;
        background: #f3f4f6;
        border-radius: 8px;
      }

      .device-button {
        background: #3b82f6;
        color: white;
        border: none;
        padding: 8px 16px;
        margin: 5px;
        border-radius: 6px;
        cursor: pointer;
      }

      .device-button:hover {
        background: #2563eb;
      }

      .device-button.active {
        background: #059669;
      }

      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }

      .comparison-table th,
      .comparison-table td {
        border: 1px solid #e5e7eb;
        padding: 8px 12px;
        text-align: left;
      }

      .comparison-table th {
        background: #f9fafb;
        font-weight: 600;
      }

      .size-example {
        font-family: monospace;
        background: #f3f4f6;
        padding: 4px 8px;
        border-radius: 4px;
      }

      /* Responsive testing styles */
      @media (max-width: 767px) {
        .mobile-only {
          display: block;
        }
        .tablet-only,
        .desktop-only {
          display: none;
        }

        .price-grid {
          grid-template-columns: 1fr;
        }
      }

      @media (min-width: 768px) and (max-width: 1023px) {
        .mobile-only,
        .desktop-only {
          display: none;
        }
        .tablet-only {
          display: block;
        }
      }

      @media (min-width: 1024px) {
        .mobile-only,
        .tablet-only {
          display: none;
        }
        .desktop-only {
          display: block;
        }
      }

      .mobile-only,
      .tablet-only,
      .desktop-only {
        font-weight: 600;
        padding: 10px;
        border-radius: 6px;
        margin: 10px 0;
      }

      .mobile-only {
        background: #fef3c7;
        color: #92400e;
      }

      .tablet-only {
        background: #ddd6fe;
        color: #5b21b6;
      }

      .desktop-only {
        background: #d1fae5;
        color: #047857;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>S2.3 Responsive Design Demo</h1>
      <p class="subtitle">Dynamic badge scaling across mobile, tablet, and desktop viewports</p>

      <div class="viewport-info" id="viewport-info">
        Current Viewport: <span id="viewport-size">Loading...</span><br />
        Device Type: <span id="device-type">Detecting...</span><br />
        User Agent: <span id="user-agent">Loading...</span>
      </div>

      <div class="mobile-only">
        üì± MOBILE VIEW ACTIVE - Badges should be smaller and more compact
      </div>
      <div class="tablet-only">üì± TABLET VIEW ACTIVE - Badges should be medium-sized</div>
      <div class="desktop-only">üñ•Ô∏è DESKTOP VIEW ACTIVE - Badges should be full-sized</div>

      <div class="controls">
        <p>
          <strong>Test Instructions:</strong> Resize your browser window or use responsive design
          tools to see badges adapt
        </p>
        <button class="device-button" onclick="simulateDevice('mobile')">üì± Mobile (375px)</button>
        <button class="device-button" onclick="simulateDevice('tablet')">üì± Tablet (768px)</button>
        <button class="device-button" onclick="simulateDevice('desktop')">
          üñ•Ô∏è Desktop (1024px)
        </button>
        <button class="device-button" onclick="resetDevice()">üîÑ Reset</button>
      </div>

      <!-- Sample E-commerce Layouts -->
      <div class="demo-section">
        <h2>E-commerce Product Examples</h2>
        <div class="price-grid">
          <div class="price-card">
            <h3>Electronics</h3>
            <div class="price">Laptop: $999.99</div>
            <div class="price">Smartphone: $699.99</div>
            <div class="price">Headphones: $199.99</div>
            <div class="price">Tablet: $399.99</div>
          </div>

          <div class="price-card">
            <h3>Clothing</h3>
            <div class="price">Designer Jeans: $89.99</div>
            <div class="price">Sneakers: $129.99</div>
            <div class="price">T-Shirt: $24.99</div>
            <div class="price">Jacket: $159.99</div>
          </div>

          <div class="price-card">
            <h3>Home & Garden</h3>
            <div class="price">Coffee Maker: $79.99</div>
            <div class="price">Garden Tools: $49.99</div>
            <div class="price">Furniture Set: $599.99</div>
            <div class="price">Kitchen Scale: $29.99</div>
          </div>

          <div class="price-card">
            <h3>Books & Media</h3>
            <div class="price">Novel: $12.99</div>
            <div class="price">Textbook: $89.99</div>
            <div class="price">Movie: $14.99</div>
            <div class="price">Magazine: $4.99</div>
          </div>
        </div>
      </div>

      <!-- Dense Layout Test -->
      <div class="demo-section">
        <h2>Dense Layout Compatibility</h2>
        <p>Testing badge behavior in tightly packed layouts:</p>
        <div style="display: flex; flex-wrap: wrap; gap: 10px; font-size: 14px">
          <span>Item A: $15.99</span>
          <span>Item B: $22.50</span>
          <span>Item C: $8.75</span>
          <span>Item D: $45.00</span>
          <span>Item E: $199.99</span>
          <span>Item F: $3.25</span>
          <span>Item G: $67.50</span>
          <span>Item H: $125.99</span>
        </div>
      </div>

      <!-- Size Comparison Table -->
      <div class="demo-section">
        <h2>Responsive Size Reference</h2>
        <table class="comparison-table">
          <thead>
            <tr>
              <th>Device Type</th>
              <th>Viewport Range</th>
              <th>Font Size (sm)</th>
              <th>Icon Size (xs)</th>
              <th>Padding</th>
              <th>Example</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>üì± Mobile</td>
              <td>0px - 767px</td>
              <td><span class="size-example">0.75rem (12px)</span></td>
              <td><span class="size-example">0.625rem (10px)</span></td>
              <td><span class="size-example">3px 6px</span></td>
              <td>$29.99 ‚Üí <span style="font-size: 12px">‚è∞ 3h 0m</span></td>
            </tr>
            <tr>
              <td>üì± Tablet</td>
              <td>768px - 1023px</td>
              <td><span class="size-example">0.8125rem (13px)</span></td>
              <td><span class="size-example">0.6875rem (11px)</span></td>
              <td><span class="size-example">3.5px 7px</span></td>
              <td>$29.99 ‚Üí <span style="font-size: 13px">‚è∞ 3h 0m</span></td>
            </tr>
            <tr>
              <td>üñ•Ô∏è Desktop</td>
              <td>1024px+</td>
              <td><span class="size-example">0.875rem (14px)</span></td>
              <td><span class="size-example">0.75rem (12px)</span></td>
              <td><span class="size-example">4px 8px</span></td>
              <td>$29.99 ‚Üí <span style="font-size: 14px">‚è∞ 3h 0m</span></td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Implementation Details -->
      <div class="demo-section">
        <h2>Implementation Features</h2>
        <ul>
          <li>
            <strong>Automatic Detection:</strong> Uses <code>window.innerWidth</code> to detect
            viewport size
          </li>
          <li>
            <strong>Responsive Breakpoints:</strong> Mobile (‚â§767px), Tablet (768-1023px), Desktop
            (‚â•1024px)
          </li>
          <li>
            <strong>Proportional Scaling:</strong> All elements scale proportionally to maintain
            visual hierarchy
          </li>
          <li>
            <strong>Performance Optimized:</strong> Viewport detection is cached and debounced
          </li>
          <li>
            <strong>Graceful Fallbacks:</strong> Falls back to desktop sizing if detection fails
          </li>
          <li><strong>Touch Device Aware:</strong> Considers touch capabilities for better UX</li>
          <li><strong>Configurable:</strong> Responsive behavior can be disabled per component</li>
        </ul>
      </div>
    </div>

    <script type="module">
      function updateViewportInfo() {
        const width = window.innerWidth;
        const height = window.innerHeight;

        let deviceType = 'Desktop';
        if (width <= 767) deviceType = 'Mobile';
        else if (width <= 1023) deviceType = 'Tablet';

        document.getElementById('viewport-size').textContent = `${width} √ó ${height}px`;
        document.getElementById('device-type').textContent = deviceType;
        document.getElementById('user-agent').textContent =
          navigator.userAgent.substring(0, 80) + '...';

        console.log(`Viewport: ${width}x${height}, Device: ${deviceType}`);
      }

      function simulateDevice(type) {
        const body = document.body;
        const container = document.querySelector('.container');

        // Remove existing simulation classes
        body.classList.remove('simulate-mobile', 'simulate-tablet', 'simulate-desktop');

        // Add new simulation class
        if (type !== 'reset') {
          body.classList.add(`simulate-${type}`);
        }

        // Update button states
        document.querySelectorAll('.device-button').forEach((btn) => {
          btn.classList.remove('active');
        });

        if (type !== 'reset') {
          event.target.classList.add('active');
        }

        // Force a viewport info update
        setTimeout(updateViewportInfo, 100);
      }

      function resetDevice() {
        document.body.classList.remove('simulate-mobile', 'simulate-tablet', 'simulate-desktop');
        document.querySelectorAll('.device-button').forEach((btn) => {
          btn.classList.remove('active');
        });
        updateViewportInfo();
      }

      // Global functions for button clicks
      window.simulateDevice = simulateDevice;
      window.resetDevice = resetDevice;

      // Update viewport info on load and resize
      updateViewportInfo();
      window.addEventListener('resize', updateViewportInfo);

      // Log extension instructions
      console.log('='.repeat(60));
      console.log('RESPONSIVE DESIGN DEMO - S2.3');
      console.log('='.repeat(60));
      console.log('This page tests responsive badge scaling.');
      console.log('1. Load this page with the TimeIsMoney extension');
      console.log('2. Resize browser window or use DevTools responsive mode');
      console.log('3. Observe badges automatically scaling to viewport size');
      console.log('4. Use the device buttons to simulate different viewports');
      console.log('Expected behavior:');
      console.log('- Mobile: Smaller badges (12px font, 10px icons)');
      console.log('- Tablet: Medium badges (13px font, 11px icons)');
      console.log('- Desktop: Full badges (14px font, 12px icons)');
      console.log('='.repeat(60));

      // Add some CSS for device simulation
      const style = document.createElement('style');
      style.textContent = `
            body.simulate-mobile .container { max-width: 375px; }
            body.simulate-tablet .container { max-width: 768px; }
            body.simulate-desktop .container { max-width: 1024px; }
        `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
