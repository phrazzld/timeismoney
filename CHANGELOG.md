# Changelog

All notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.

## 4.2.0 (2025-05-02)

### Features

- add catch handlers for storage operations throughout codebase ([c82e347](https://github.com/[username]/timeismoney/commit/c82e3471cb7b5ed3beeedb2e476adf9a9c3738e2))
- add option to disable or throttle DOM observation ([47f47a9](https://github.com/[username]/timeismoney/commit/47f47a9ed119c152f84aa3d14ffa82dbd9119f8c))
- add performance timing to processPendingNodes ([735da02](https://github.com/[username]/timeismoney/commit/735da027018be2b295d1230d6dbda4555795ec05))
- display user-facing errors for storage failures ([4f6a967](https://github.com/[username]/timeismoney/commit/4f6a96725e73783697684fc7752a8c9d4120a3bf))
- enforce numeric, non-negative wage validation ([b045e28](https://github.com/[username]/timeismoney/commit/b045e285a0327567ab5e32e47eb11c05354078c3))
- implement centralized logger utility ([e41f93b](https://github.com/[username]/timeismoney/commit/e41f93b768022fe44e050274b4262f9e7a3e5cfa))
- implement configurable mutation observer debounce interval ([8fd739a](https://github.com/[username]/timeismoney/commit/8fd739a5b4fa9796c110f5b417facc6e8b5c18b8))
- implement content script bundling with esbuild ([836771e](https://github.com/[username]/timeismoney/commit/836771ed33baae3272bfbb1762b5950ba3104eb6))
- implement input validation for amount in options form ([db00031](https://github.com/[username]/timeismoney/commit/db0003198723069e461afe4aed73fa9880e94f4a))
- implement log level control by build environment ([cb964a7](https://github.com/[username]/timeismoney/commit/cb964a7c9599b146d20f7f89ee53165b4790bf2b))
- implement MutationObserver for DOM scanning ([33d64f9](https://github.com/[username]/timeismoney/commit/33d64f92dcb1af51bed6a4755f00a59833289fbf))
- implement proper error handling in storage wrappers ([bdd709a](https://github.com/[username]/timeismoney/commit/bdd709a668ddc397e9fe32626710b4e3b0d8d4d0))
- implement robust price parsing for international locales ([de7a5b0](https://github.com/[username]/timeismoney/commit/de7a5b0e37aa7306dd04e1bffc051f261045ecf1))
- implement validation for currency symbol and code fields ([bc6233c](https://github.com/[username]/timeismoney/commit/bc6233cf53188ca7dfe705b787d383f379183177))
- migrate extension from Manifest V2 to V3 ([c7eebfd](https://github.com/[username]/timeismoney/commit/c7eebfd87cda94de06079fb2a11e4cf62ab6ccef))
- prevent settings overwrite on extension update ([0f4f6fa](https://github.com/[username]/timeismoney/commit/0f4f6fa0b6f02af5f247395cfb80bda50e9ca0ad))
- sanitize user inputs before validation and saving ([fbdef2f](https://github.com/[username]/timeismoney/commit/fbdef2f75455ab91387dcd0e41b189950eb13389))
- strengthen input validation logic ([3595579](https://github.com/[username]/timeismoney/commit/35955795eec19a6437d244c909cca924c59008ba))
- synchronize popup toggle state and icon with settings ([516e380](https://github.com/[username]/timeismoney/commit/516e380ba857d5b6071dd310b194ce0d3d7f297e))

### Bug Fixes

- add ESLint global declarations for test helpers ([08fc77c](https://github.com/[username]/timeismoney/commit/08fc77caf1b0b5180b12f71b78dcca884b172fde))
- add trailing newline to test example file ([4ee8641](https://github.com/[username]/timeismoney/commit/4ee8641a9d11b008ce74d37633031083364bbe96))
- bundle background script to fix ES modules service worker ([45b3814](https://github.com/[username]/timeismoney/commit/45b3814c2d0ffcadb885b60ad9497519cfbf0a60))
- close popup immediately after successful save ([3100489](https://github.com/[username]/timeismoney/commit/3100489f024e834382facd32b5f7bff9a21a8277))
- convert babel and jest configs to CommonJS format ([18fbdaa](https://github.com/[username]/timeismoney/commit/18fbdaa18731af15ece5644020b2313165c53e4f))
- correctly import Jest beforeEach function in setup file ([c3d8479](https://github.com/[username]/timeismoney/commit/c3d84794f90e70f7e7d034d13cfc42fa9ddc0c5a))
- drastically simplify CI test execution ([21ad824](https://github.com/[username]/timeismoney/commit/21ad824684970bc872b8a0fcc0955ac748d12bd9))
- ensure options window closing only happens after successful saves ([e8069c4](https://github.com/[username]/timeismoney/commit/e8069c47e174ddd59460051d2a1f9ca257d41624))
- improve error handling and fix Unicode character issues ([90060ff](https://github.com/[username]/timeismoney/commit/90060ff2da5b5805a6ce79fce8e76c67d09028e6))
- improve Japanese Yen price detection for eBay ([1ddd20f](https://github.com/[username]/timeismoney/commit/1ddd20f682cebe2083a81b67398ff5243959e0b2))
- prevent recursive DOM conversion and add module support ([d6bae25](https://github.com/[username]/timeismoney/commit/d6bae25f2bfd0f17c58e18ba387d413e6aa3e4f2))
- price conversion not working due to incorrect price detection ([633b88b](https://github.com/[username]/timeismoney/commit/633b88b4e520f225c5c4fb570d092fc5414385c0))
- remove unsupported type:module from background script in manifest ([96031f7](https://github.com/[username]/timeismoney/commit/96031f7388f04e02024812f0f1bfff950142c018))
- rename config files to use .cjs extension for CommonJS compatibility ([f7b96bd](https://github.com/[username]/timeismoney/commit/f7b96bdfd8742b064da87050b12cdc35d3af48b8))
- replace global beforeEach with helper functions ([5767c82](https://github.com/[username]/timeismoney/commit/5767c8295694fc8e5c174b0b5d114d95b5b7f230))
- resolve CI test failures ([d989377](https://github.com/[username]/timeismoney/commit/d98937792188f9aa30be41fc09d3b09e6650e610))
- resolve CI test failures with powerful simplicity ([71cabbf](https://github.com/[username]/timeismoney/commit/71cabbf32ebceb26b550f39e0dabc4c4a89d1cf0))
- resolve linting issues in test files ([b52a3cb](https://github.com/[username]/timeismoney/commit/b52a3cb2f5f500ca19d90a0255a7f47738ea8721))
- restrict host permissions in manifest to specific domains ([2e95bee](https://github.com/[username]/timeismoney/commit/2e95bee3f3e11ebfa7ba490be8cc7d3479f7c5e3))
- slice the Gordian knot of CI failures ([87c8bab](https://github.com/[username]/timeismoney/commit/87c8bab8d6d13a95994ec2af3199284f99d673ae))
- standardize extension icon paths to use root-relative format ([9b892a0](https://github.com/[username]/timeismoney/commit/9b892a088220a8c3c3b0b4eab6e194bd43686b79))
- update Jest configuration to fix CI test failures ([229970c](https://github.com/[username]/timeismoney/commit/229970c6bb53c250fcf6109cf02a2bb5e19c5736))
- update test files to use Jest global helpers ([b192816](https://github.com/[username]/timeismoney/commit/b1928160117f2202c8bb211611621116b872560d))
- use npx to run jest in CI workflow ([2001f88](https://github.com/[username]/timeismoney/commit/2001f8846938a6f589ac47c76fb4741a7eb701d9))

### Performance Improvements

- implement size limit and cleanup for mutation observer sets ([db13ea6](https://github.com/[username]/timeismoney/commit/db13ea61c09b5b119a1b60242469305e38aebcbb))
- refactor content script to fetch settings once per batch ([cd077e7](https://github.com/[username]/timeismoney/commit/cd077e74aaeeb084dd9edea73b39fd52699183ed))

### Documentation

- add detailed comments explaining regex logic in priceFinder.js ([57f8d3b](https://github.com/[username]/timeismoney/commit/57f8d3b2023900bc444a5e1ad56c8e5117b54cfa))
- add JSDoc comments to all public APIs ([2b1ba6d](https://github.com/[username]/timeismoney/commit/2b1ba6ddede50a83a882923132c2c5d498154892))
- improve JSDoc comments for UI scripts ([09c22df](https://github.com/[username]/timeismoney/commit/09c22dfbba90f1c24461bf64d15a9ffdad6090b6))
- improve JSDoc for background and utility scripts ([43558ac](https://github.com/[username]/timeismoney/commit/43558acf2503497d46560e14599b0410baf6a4d0))
- improve JSDoc for content scripts ([3b16c7c](https://github.com/[username]/timeismoney/commit/3b16c7c0d4e40ba84cbf3c86379bd1bf402a1e85))
- mark T18 as completed in TODO.md ([62a7b72](https://github.com/[username]/timeismoney/commit/62a7b72b518025be95b4b6b86843598cb687dc9a))

### Code Refactoring

- adapt background.js for MV3 service worker context ([0eca646](https://github.com/[username]/timeismoney/commit/0eca646b800a9d49ac88f417e5947861ffb7f33d))
- adopt ES6 syntax across codebase ([aa6ff0f](https://github.com/[username]/timeismoney/commit/aa6ff0f0646317c341c1e54d1fa51aa3d96fa506))
- allow injecting mock MutationObserver for tests ([b0593a9](https://github.com/[username]/timeismoney/commit/b0593a9b81287ef11aedba79e4d5cb8c1641fd1b))
- **amazonHandler:** ensure settings are propagated through callbacks ([375c900](https://github.com/[username]/timeismoney/commit/375c90052cff0156072c29779551bead00f7eeee))
- centralize all shared constants in constants.js ([861eacd](https://github.com/[username]/timeismoney/commit/861eacd32001bc6eba42916b3bea24828075532e))
- complete internal rate calculation removal from convertToTime ([f34bc26](https://github.com/[username]/timeismoney/commit/f34bc26534f2ada1b441d9eac978cf41e17423b2))
- consolidate options validation before save attempt ([b4748f9](https://github.com/[username]/timeismoney/commit/b4748f9404304b6d1abaf6efc5363018a28aadf3))
- consolidate storage interactions behind storage.js API ([98e5f30](https://github.com/[username]/timeismoney/commit/98e5f300f357ea181cc1ca983b15c3f46596475d))
- convert anonymous handlers to named functions ([59cd293](https://github.com/[username]/timeismoney/commit/59cd2939f998434117114621612c905dfd2e7317))
- convert tests and helpers to import/export syntax ([f8a5193](https://github.com/[username]/timeismoney/commit/f8a5193790fbc759910941414d1f7139cda5d1c6))
- debounce domScanner.walk calls ([73acaa1](https://github.com/[username]/timeismoney/commit/73acaa1f02c6167d8a25e1eaa68de9abecc82616))
- disconnect MutationObserver on script unload ([a8b1187](https://github.com/[username]/timeismoney/commit/a8b1187633ddadbfd2ed300afdbd2ef597dd8ff1))
- **domScanner:** update walk function to accept settings parameter ([e4e34c0](https://github.com/[username]/timeismoney/commit/e4e34c0e38ee4a2c4191d80dece8e96bc787614b))
- ensure observer callback logic is unit-testable ([06bc18f](https://github.com/[username]/timeismoney/commit/06bc18f99547376a5c1b8dbab6af676e2657203d))
- extract domModifier.js with DOM manipulation API ([80e6a8f](https://github.com/[username]/timeismoney/commit/80e6a8f2bf2960cdad32de995883fdd5258b404b))
- extract domScanner.js with walk API ([618d2cb](https://github.com/[username]/timeismoney/commit/618d2cb2b1fe8ead8f80624487d1c52c0d0ec40c))
- extract formHandler.js for options form logic ([4744448](https://github.com/[username]/timeismoney/commit/4744448150d79de7e76287f24911e32262ac8d35))
- extract priceConverter.js with convert and format API ([4a25b36](https://github.com/[username]/timeismoney/commit/4a25b36fd07a942588e8b23900027ee87450db2e))
- extract priceFinder.js with findPrices API ([594a32a](https://github.com/[username]/timeismoney/commit/594a32a30976d202f2ccdde722df331f49690c46))
- extract settingsManager.js from content.js ([d0c1f2f](https://github.com/[username]/timeismoney/commit/d0c1f2f23c822608298dd4702625a04877b44a47))
- extract tooltip.js with delegated event handlers ([bdbb26e](https://github.com/[username]/timeismoney/commit/bdbb26e75d70b26c5e6fae366ecac25fbfec582c))
- extract validation functions to separate module ([95ee17d](https://github.com/[username]/timeismoney/commit/95ee17d856d473912f3288e11f86f8098e04578f))
- implement content/index.js orchestrator ([e3e8ee5](https://github.com/[username]/timeismoney/commit/e3e8ee5b88c2464516ecbb4383755c397d760560))
- improve test resilience by focusing on user-visible outcomes ([50598f1](https://github.com/[username]/timeismoney/commit/50598f1a565cb232346dcde96ee324e2b9d6f8e5))
- **index:** update processPage to pass settings to walk ([9b03eed](https://github.com/[username]/timeismoney/commit/9b03eed579508001b200069f5fc35f9a70f451cc))
- integrate parser.js for amount string normalization ([d4afdaa](https://github.com/[username]/timeismoney/commit/d4afdaa1167f86be4cc6487aca291a58882a2543))
- isolate Amazon-specific logic into amazonHandler.js ([5ac6cd4](https://github.com/[username]/timeismoney/commit/5ac6cd416746175fe37d51d75652a19b401b83a2))
- merge converter logic into src/utils/converter.js ([27d5add](https://github.com/[username]/timeismoney/commit/27d5addfdf69ea94de675b4c1c0288d45c1c6d38))
- remove global state from Amazon price handler ([95179f0](https://github.com/[username]/timeismoney/commit/95179f090b192fc33c74dc8db957482d6bc5047f))
- reorganize file structure under /src ([52633b1](https://github.com/[username]/timeismoney/commit/52633b11f35c525611b5752c5be422c81e7f4bc7))
- replace console statements with logger module ([396bd63](https://github.com/[username]/timeismoney/commit/396bd633463cec17c90593518cd6818858178cd9))
- replace deprecated chrome.browserAction with chrome.action API ([bc739a1](https://github.com/[username]/timeismoney/commit/bc739a19803e703c1959cf7f0d60861350b692ac))
- replace direct console calls with logger calls ([c7fa4f9](https://github.com/[username]/timeismoney/commit/c7fa4f9c54f3db3c0e5423c8439ff2f9b58ce54f))
- separate concerns of scanning, finding, converting, modifying ([c70c436](https://github.com/[username]/timeismoney/commit/c70c436730b04358057215fba61fe5dfe62b33c9))
- simplify and clarify regex construction in priceFinder.js ([8f5fbfb](https://github.com/[username]/timeismoney/commit/8f5fbfbd7eb7338808480f980b144d7ff8c819f3))
- simplify convertToTime to single signature ([0dee9c5](https://github.com/[username]/timeismoney/commit/0dee9c56752e0651ef8e07e9d9b356984c9fdbaf))
- update content scripts to use unified converter ([2f8ede4](https://github.com/[username]/timeismoney/commit/2f8ede408916579b7ae3c83239af1853509d1e08))
- update DOM scanner functions to accept state via parameters ([ff4e8d2](https://github.com/[username]/timeismoney/commit/ff4e8d23131c58ff52845c053abcfb2c5617472a))
- update Jest and Babel configs for ES6 modules ([ef7ace9](https://github.com/[username]/timeismoney/commit/ef7ace934a9dfda5ef178a7acfa42d4cc7be0cea))
- verify all convertToTime callers compute hourly rate externally ([6a895ea](https://github.com/[username]/timeismoney/commit/6a895eafdd8fa9f9e1997b24122906652cada1e7))
- wrap critical sections in try/catch with logging ([215b12d](https://github.com/[username]/timeismoney/commit/215b12dbf41d17b2a8d2f7857dbee35573c7843c))
